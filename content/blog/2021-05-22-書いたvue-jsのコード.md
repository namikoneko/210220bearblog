---
title: 書いたvue.jsのコード
slug: my-vue-code
date: 2021-05-22T08:35:02.600Z
description: 書いたvue.jsのコードです。
tags:
  - vue
---
## index.html
```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="favicon.svg" type="image/svg+xml">
    <title>myApp</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <link href="https://cdn.jsdelivr.net/gh/kognise/water.css@latest/dist/dark.min.css" rel="stylesheet" />
    <link href="style.css" rel="stylesheet" />
    <script src="https://unpkg.com/vue/dist/vue.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://unpkg.com/vue-router/dist/vue-router.js"></script>
    <script src="posta.js"></script>
    <script src="jikena.js"></script>
  </head>
  <body>
    <div id="app">
      <router-view></router-view>
    </div>
    <!--script-->
    <script>
      const routes = [
        //{ path: '/posts', name: 'posts', component: posts },
        { path: '/post/:id', name: 'post', component: post, props: true },
        { path: '/postupd', name: 'postupd', component: postupd, props: true },
        { path: '/jikens', name: 'jikens', component: jikens },
        { path: '/jikenupd', name: 'jikenupd', component: jikenupd, props: true },
      ]
      
      const router = new VueRouter({
          routes // `routes: routes` の短縮表記
      })
      new Vue({
          router,
          created(){
          },
          data(){
              return {
                  mystr: "mystr"	
              }
          },
          methods: {
          }
      }).$mount('#app')
    </script>
  </body>
</html>
```

## posta.js
```javascript
const post = {
//const posts = {
    data(){
      return {
		  institle: "", radioid: "", rows: ""
      }
    },//data
	props: ['id'],
    template: `<div class="posts-wrapper">
    <router-link tag="button" :to="{name: \'jikens\'}">jikens</router-link>
	<div class="all-flex">
        	<input type="text" v-model="institle">
        	<button v-on:click="institleexe">insert</button>
        	<input type="radio" v-model="radioid" v-bind:value="0">:0
	</div>

		<div v-for="row in rows" v-bind:class="row.hr">
		  <p>
		  <input v-show="row.show" type="radio" v-model="radioid" v-bind:value="row.id">
		    
        <router-link :to="{name: \'postupd\', params:{id: row.id}}">{{row.id}}-{{row.title}}</router-link>
        <button v-on:click="postup(row.id)">up</button>
        <button v-on:click="updpostid(row.id)">mv</button>
    	<button v-on:click="postdel(row.id)">delete</button>
		  </p>
		</div>
		<!--
	        {{radioid}}
    	    <button v-on:click="gotolink(row.id)">link</button>
		-->
    </div>`,//template
    created(){
		  axios.get("../201129server/post/" + this.id)
		  //axios.get("../201129server/posts")
	      .then(response => this.rows = response.data);
    },//created
    methods: {
        institleexe(){//institleexe ####################
		  if(this.radioid == ""){
            this.radioid = 0;
		    //alert(this.radioid);
		  }
            let params = new URLSearchParams();
            params.append('title', this.institle);
            params.append('jikenid', this.id);
            params.append('radioid', this.radioid);
            this.institle = "";
      		  axios.post("../201129server/postins", params)
  	            .then(() => {
		          axios.get("../201129server/post/" + this.id)
                    .then(response => this.rows = response.data);
				})
        },//institleexe
	  updpostid(id){// updpostid ######################################
  		//alert(this.radioid);
          axios.get("../201129server/updpostid/" + id + "/" + this.radioid)
  	    .then(() => {
		  axios.get("../201129server/post/" + this.id)
		  //axios.get("../201129server/posts")
	      .then(response => this.rows = response.data);
  	  })
	},//updpostid
	postup(id){// postup ######################################
	  axios.post("../201129server/postup/" + id)
		.then(() => {
		  axios.get("../201129server/post/" + this.id)
		  //axios.get("../201129server/posts")
	      .then(response => this.rows = response.data);
		});
	},//postup
        postdel(id){
    	  axios.get("../201129server/postdel/" + id)
    		.then(() => {
		      axios.get("../201129server/post/" + this.id)
    		  //axios.get("../201129server/posts")
    	      .then(response => this.rows = response.data);
    	  });
        },//postdel

    },//methods
}//component

// postupd ############################################################
const postupd = { 
    data(){
      return {
		  jid: 0,updtext: "",row: "",rowp: "",offaddpost: "loading...",offpost: "loading...",addpost: "loading...",postid: 0, rows: "", name: "", updtitle: "",  updtext: "", page: 1
      }
    },
    template: `<div>
    <router-link tag="button" :to="{name: \'post\', params: { id: this.jid }}">this jiken</router-link>
    <input type="text" v-model="updtitle">
    <textarea class="thread-ins-textarea" v-model="updtext"></textarea>
    <button v-on:click="updexe">update</button>
	<!--
	{{rowp.id}}
	{{rowp.title}}
        <button v-on:click="updpostid(rowp.id)">{{rowp.id}}-{{rowp.title}}</button>
	<div v-for="row in rows">
        <button v-on:click="updpostid(row.id)">{{row.id}}-{{row.title}}</button>
	</div>
-->
	<!--
	{{row.id}}-
	{{row.title}}
-->
	<!--
	<div v-for="row in rows">
        <button v-show="row.id!=bid" v-on:click="changeb(row.id)">{{row.id}}-{{row.title}}</button>
	</div>
-->
    </div>`,//
	props: ['id'],
    created(){
		//alert(this.id);
	  axios.get("../201129server/postupd/" + this.id)
	    .then(response => {
               this.updtitle = response.data.title;
               this.updtext = response.data.text;
               this.postid = response.data.postid;
               this.jid = response.data.jid;
	    });
//	  axios.get("../201129server/postupdmvp/" + this.id)
//	    .then(response => this.rowp = response.data);
//	  axios.get("../201129server/postupdmvb/" + this.id)
//	    .then(response => this.rows = response.data);
    },//created
    methods: {
	updexe(){// updexe ######################################
          let params = new URLSearchParams();
          params.append('id', this.id);
          params.append('title', this.updtitle);
          params.append('text', this.updtext);
	  axios.post("../201129server/postupdexe", params)
		.then(() => {
		      router.push({ name: 'post', params: { id: this.jid } })
		});
	},//updexe
  }//methods
}//component
```
## jikena.js
```javascript
const jikens = {
    data(){
      return {
		  institle: "", radioid: "", rows: ""
      }
    },//data
	//props: ['id'],
    template: `<div class="posts-wrapper">
	<div class="all-flex">
    	<input type="text" v-model="institle">
    	<button v-on:click="institleexe">insert</button>
	</div>

		<div v-for="row in rows">
          <router-link :to="{name: \'post\', params:{id: row.id}}">{{row.id}}-{{row.title}}</router-link>
          <router-link tag="button" :to="{name: \'jikenupd\', params:{id: row.id}}">update</router-link>
          <button v-on:click="jikenup(row.id)">up</button>
    	  <button v-on:click="jikendel(row.id)">delete</button>
		</div>

    </div>`,//template
    created(){
		  axios.get("../201129server/jikens")
	      .then(response => this.rows = response.data);
    },//created
    methods: {
        institleexe(){//institleexe ####################
		    //alert(this.radioid);
            let params = new URLSearchParams();
            params.append('title', this.institle);
            this.institle = "";
      		  axios.post("../201129server/jikenins", params)
                  .then(response => this.rows = response.data);
        },//institleexe
    	jikenup(id){// jikenup ######################################
     	  axios.post("../201129server/jikenup/" + id)
     		.then(() => {
     		  axios.get("../201129server/jikens")
     	      .then(response => this.rows = response.data);
     		});
     	},//jikenup
        jikendel(id){
    	  axios.get("../201129server/jikendel/" + id)
    		.then(() => {
    		  axios.get("../201129server/jikens")
    	      .then(response => this.rows = response.data);
    	  });
        },//jikendel
    },//methods
}//component

// jikenupd ############################################################
const jikenupd = { 
    data(){
      return {
		  row: "",rowp: "",offaddpost: "loading...",offpost: "loading...",addpost: "loading...",postid: 0, rows: "", name: "", updtitle: "",  updtext: "", page: 1
      }
    },
    template: `<div>
    <router-link tag="button" :to="{name: \'jikens\'}">jikens</router-link>
    <input type="text" v-model="updtitle">
    <br>
    <button v-on:click="updexe">update</button>
    </div>`,//template
	props: ['id'],
    created(){
		//alert(this.id);
	  axios.get("../201129server/jikenupd/" + this.id)
	    .then(response => {
               this.updtitle = response.data.title;
               this.postid = response.data.postid;
	    });
    },//created
    methods: {
	updexe(){// updexe ######################################
          let params = new URLSearchParams();
          params.append('id', this.id);
          params.append('title', this.updtitle);
	  axios.post("../201129server/jikenupdexe", params)
		.then(() => {
		  //this.$router.push({ name: 'jiken', params: { id: this.id } })
		  router.push({ name: 'jikens' })
		});
	},//updexe
  }//methods
}//component
```

